<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Task 01</title>
</head>

<body>
	<pre>
Задание:
 Добавьте обработку статус кодов ошибок на стороне сервера и на стороне клиента
 для сетевого запроса, который выполняется при нажатии на кнопку "Запрос"

___________________________________________________________________________
</pre>
	<button id="button1">Запрос</button>
	<button id="button2">Запрос2</button>
	<div id="output"></div>

	<script>
		/*
		Задание:
		Добавьте обработку статус кодов ошибок на стороне сервера и на стороне клиента
		для сетевого запроса, который выполняется при нажатии на кнопку "Запрос" 
		*/
		let button1 = document.querySelector("#button1");
		let button2 = document.querySelector("#button2");
		let output = document.querySelector("#output");
		let url = "https://jsonplaceholder.typicode.com/todos/100000";
		let url2 = "https://jsonplaceholder.typicode.com/todos/10";

		button1.addEventListener("click", function () {
			fetch(url)
				.then(response => {
					if (response.ok) {
						return response.json();
					} else {
						throw new Error(` код возврата: ${response.status}`);
					}
				})
				.then(json => {
					output.innerHTML = "";
					output.innerHTML += "<br>id: " + json.id;
					output.innerHTML += "<br>user id: " + json.userId;
					output.innerHTML += "<br>title: " + json.title;
					output.innerHTML += "<br>completed: " + json.completed;
				})
				.catch(error => {
					output.innerHTML = error.message;
				});
		});

		button2.addEventListener("click", function () {
			fetch(url2)
				.then(response => {
					if (response.ok) {
						return response.json();
					} else {
						throw new Error(` код возврата: ${response.status}`);
					}
				})
				.then(json => {
					output.innerHTML = "";
					output.innerHTML += "<br>id: " + json.id;
					output.innerHTML += "<br>user id: " + json.userId;
					output.innerHTML += "<br>title: " + json.title;
					output.innerHTML += "<br>completed: " + json.completed;
				})
				.catch(error => {
					output.innerHTML = error.message;
				});
		});
	</script>
</body>

</html>