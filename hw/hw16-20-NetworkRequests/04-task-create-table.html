<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Task 04</title>

	<style>
		table {
			margin: 5px
		}

		table,
		th,
		td {
			border: 1px solid gray;
		}

		td,
		th {
			padding: 8px;
		}
	</style>

</head>

<body>
	<pre>
Задание:
 Напишите сценарий, 
 который выполняет GET запрос 
 по адресу https://jsonplaceholder.typicode.com/todos
 И выводит содержимое ответа в виде таблицы.

-----------------------------------------------------------
let url = "https://jsonplaceholder.typicode.com/todos";
let tableTodo = document.querySelector("#todo");

fetch(url)
  .then(response => response.json())
  .then(json => createTable(json));

function createTable(json) {
  json.forEach(element => {
    tableTodo.append(createRow(element.userId, element.id, element.title, element.completed));
  });
}

function createRow(userId, id, title, completed) {
  let tr = document.createElement("tr");
  tr.insertAdjacentHTML("beforeend", `<td>${userId}</td>`);
  tr.insertAdjacentHTML("beforeend", `<td>${id}</td>`);
  tr.insertAdjacentHTML("beforeend", `<td>${title}</td>`);
  tr.insertAdjacentHTML("beforeend", `<td>${completed}</td>`);
  return tr;
}
__________________________________________________________
</pre>

	<table id="todo">
		<tr>
			<th>user ID</th>
			<th>ID</th>
			<th>Title</th>
			<th>Completed</th>
		</tr>
	</table>

	<script>
		/*
		Задание:
		Напишите сценарий, который выполняет GET запрос 
		по адресу https://jsonplaceholder.typicode.com/todos
		И выводит содержимое ответа в виде таблицы.
		*/

		let url = "https://jsonplaceholder.typicode.com/todos";
		let tableTodo = document.querySelector("#todo");

		fetch(url)
			.then(response => response.json())
			.then(json => createTable(json));

		function createTable(json) {
			json.forEach(element => {
				tableTodo.append(createRow(element.userId, element.id, element.title, element.completed));
			});
		}

		function createRow(userId, id, title, completed) {
			let tr = document.createElement("tr");
			tr.insertAdjacentHTML("beforeend", `<td>${userId}</td>`);
			tr.insertAdjacentHTML("beforeend", `<td>${id}</td>`);
			tr.insertAdjacentHTML("beforeend", `<td>${title}</td>`);
			tr.insertAdjacentHTML("beforeend", `<td>${completed}</td>`);
			return tr;
		}

	</script>
</body>

</html>