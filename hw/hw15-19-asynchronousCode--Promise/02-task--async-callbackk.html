<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Task 02</title>
</head>

<body>
	<pre>
Задание:
 Внесите правки в функцию asyncOperation. 
 Эта функция представляет абстрактную асинхронную операцию, выполнение которой занимает 2 секунды.
 Результатом асинхронной операции является случайное значение от 0 до 5000 (записывается в переменную result).
   Необходимо внести правки в функцию asyncOperation 
   и реализовать использование функций обратного вызова для того чтобы код, вызвавший asyncOperation,
   мог получить результат работы асинхронной операции. 
   Добавьте обработчик на нажатие по кнопке Запустить, 
   вызовите асинхронную операцию и используя функцию обратного вызова обработайте результат, 
   отобразив его через alert

--------------------------------------------------------------------------------------------------------------

</pre>

	<button id="btn">Запустить</button>

	<script>
		/*
		Задание:
		Внесите правки в функцию asyncOperation. Эта функция представляет абстрактную асинхронную операцию, выполнение которой
		занимает 2 секунды. Результатом асинхронной операции является случайное значение от 0 до 5000 (записывается в переменную 
		result).
		Необходимо внести правки в функцию asyncOperation и реализовать использование функций обратного вызова для того
		чтобы код, вызвавший asyncOperation, мог получить результат работы асинхронной операции. Добавьте обработчик на нажатие по
		кнопке Запустить, вызовите асинхронную операцию и используя функцию обратного вызова обработайте результат, отобразив его 
		через alert
		*/

		function asyncOperation(success) {
			setTimeout(function () {
				let result = Math.floor(Math.random() * 5001);

				//+++
				if (success && typeof success == "function") success(result);
				// ---
			}, 2000)
		}

		//+++
		document.querySelector('#btn').addEventListener('click', (e) => asyncOperation(rnd => alert(`случайное значение от 0 до 5000: ${rnd}`)));
		// ---
	</script>
</body>

</html>